<head>
    <!-- Require to be in the HEAD section for leaflet to work -->
    <link   rel="stylesheet" 
            href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
            integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
            crossorigin=""
    />
 
    <!-- Has to be AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin="">
    </script>
</head>

<body>

    <h1>Index page for group LAC - Liam, Andrew, Cameron - Now with more GIT!</h1>
    
    <h2>Sample map box:</h2>

    <div id="mapid" style="width: 600px; height: 400px;"></div>

    <script>

        // Attach to the div and set the initial view coordinates and the zoom value (13)
        var mymap = L.map('mapid').setView([48.4283, -123.3647], 13);
        
        // TODO: To use the mapbox tiles we will need a token
        // This adds a layer to the map composed of mapbox's satellite views. Attribution is REQUIRED
        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiY2FtZXJvbnJld2luZyIsImEiOiJja3BoZzJpb2UwZThmMm9sYWVmZ2h0YTV6In0.gg9xj15fdLmakPFQD1sTZA', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
                'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox/satellite-v9',
            tileSize: 512,
            zoomOffset: -1
        }).addTo(mymap);

        // Setup a simple popup on mouse click, could later return the forest health at that those coords?
        var popup = L.popup();
    
        function onMapClick(e) {
            popup
                .setLatLng(e.latlng)
                .setContent("You clicked the map at " + e.latlng.toString())
                .openOn(mymap);
        }
        
        // Attatch the event handler
        mymap.on('click', onMapClick);
    
    </script>

</body>
